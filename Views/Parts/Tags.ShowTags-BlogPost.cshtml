@using PJS.Bootstrap.Services;

@{
    var settings = WorkContext.Resolve<IThemeSettingsService>().GetSettings();
    
    var tagId = Guid.NewGuid().ToString();
    var tagsHtml = new List<IHtmlString>();
    foreach(var t in Model.Tags) {
        if (tagsHtml.Any()) {
            tagsHtml.Add(new HtmlString(", "));
        }
        tagsHtml.Add(Html.ActionLink((string)t.TagName, "Search", "Home", new { area = "Orchard.Tags", tagName = (string)t.TagName }, new { }));
    }
}

@if (tagsHtml.Any()) {
    <script id="@tagId" type="text/javascript">
        $('#@tagId').closest('.blog-post').find('.blogpost-tags').html('@foreach(var htmlString in tagsHtml) { @htmlString }');
    </script>
}